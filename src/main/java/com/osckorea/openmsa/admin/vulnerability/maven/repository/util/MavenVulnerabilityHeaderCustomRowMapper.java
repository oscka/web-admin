package com.osckorea.openmsa.admin.vulnerability.maven.repository.util;

import java.sql.ResultSet;
import java.sql.SQLException;
import org.springframework.jdbc.core.RowMapper;
import org.springframework.stereotype.Component;
import com.osckorea.openmsa.admin.vulnerability.maven.domain.MavenVulnerabilityHeader;

@Component
public class MavenVulnerabilityHeaderCustomRowMapper implements RowMapper<MavenVulnerabilityHeader>{
    @Override
    public MavenVulnerabilityHeader mapRow(ResultSet rs, int rowNum) throws SQLException {
        return MavenVulnerabilityHeader.builder()
                                    .componentPackageUrl(rs.getString("component_package_url"))
                                    .componentDescription(rs.getString("component_description"))
                                    .componentReferenceUrl(rs.getString("component_reference_url"))
                                    .vulnerabilityCriticalCount(rs.getInt("vulnerability_ciritical_count"))
                                    .vulnerabilitySevereCount(rs.getInt("vulnerbility_severe_count"))
                                    .vulnerabilityModerateCount(rs.getInt("vulnerability_moderate_count"))
                                    .lastModifiedDate(rs.getTimestamp("last_modified_date"))
                                    .build();
    }
}
